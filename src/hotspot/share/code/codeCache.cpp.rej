diff a/src/hotspot/share/code/codeCache.cpp b/src/hotspot/share/code/codeCache.cpp	(rejected hunks)
@@ -388,19 +440,17 @@ int CodeCache::code_heap_compare(CodeHeap* const &lhs, CodeHeap* const &rhs) {
 void CodeCache::add_heap(CodeHeap* heap) {
   // AppAOT will add heap after jvm initialization
   // assert(!Universe::is_fully_initialized(), "late heap addition?");
-
-  _heaps->insert_sorted<code_heap_compare>(heap);
-
-  int type = heap->code_blob_type();
-  if (code_blob_type_accepts_compiled(type)) {
-    _compiled_heaps->insert_sorted<code_heap_compare>(heap);
-  }
-  if (code_blob_type_accepts_nmethod(type)) {
-    _nmethod_heaps->insert_sorted<code_heap_compare>(heap);
-  }
-  if (code_blob_type_accepts_allocable(type)) {
-    _allocable_heaps->insert_sorted<code_heap_compare>(heap);
-  }
+    _heaps->insert_sorted<code_heap_compare>(heap);
+    int type = heap->code_blob_type();
+    if (code_blob_type_accepts_compiled(type)) {
+      _compiled_heaps->insert_sorted<code_heap_compare>(heap);
+    }
+    if (code_blob_type_accepts_nmethod(type)) {
+      _nmethod_heaps->insert_sorted<code_heap_compare>(heap);
+    }
+    if (code_blob_type_accepts_allocable(type)) {
+      _allocable_heaps->insert_sorted<code_heap_compare>(heap);
+    }
 }
 
 void CodeCache::remove_heap(CodeHeap* heap) {
